(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{74856:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return FTCard}});var _Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83789),_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(30266),_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(80318),_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(809),_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67294),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43196),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45051),react_icons_fa__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(89583),recoil__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2804),_atoms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(63569),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85893),FTCard=function FTCard(_ref){var ft=_ref.ft,set=ft.set,script=ft.script,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("=="),randomUID=_useState[0],setRandomUID=_useState[1],_useRecoilState=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.FV)(_atoms__WEBPACK_IMPORTED_MODULE_6__.D2),_useRecoilState2=(0,_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(_useRecoilState,2),_braodcasts=_useRecoilState2[0],setBroadcasts=_useRecoilState2[1],user=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.sJ)(_atoms__WEBPACK_IMPORTED_MODULE_6__.KL),prefix=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.sJ)(_atoms__WEBPACK_IMPORTED_MODULE_6__.uo),id="_"+Math.random().toString(36).substr(2,9),randomUIDGen=function(_){var e=Math.round(Math.random()*(_.max-(_.min||0))),t=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.s3)(e);setRandomUID(t)};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){axios__WEBPACK_IMPORTED_MODULE_2___default().get("https://token.dlux.io/api/set/".concat(set)).then((function(_){var e=_.data;setInterval((function(){randomUIDGen(e.set)}),1e3)}))}),[]);var handleBuy=function(){var _=(0,_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _(){var e;return _Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,_utils__WEBPACK_IMPORTED_MODULE_3__.ev)(user.name,{set:set},prefix);case 2:(e=_.sent)&&e.success&&setBroadcasts((function(_){return[].concat((0,_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__.Z)(_),[e])}));case 4:case"end":return _.stop()}}),_)})));return function(){return _.apply(this,arguments)}}(),handleTakeBack=function(){var _=(0,_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _(){var e;return _Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,_utils__WEBPACK_IMPORTED_MODULE_3__.pU)({set:ft.set,uid:ft.uid,kind:"ft"},user.name,prefix);case 2:(e=_.sent)&&e.success&&setBroadcasts((function(_){return[].concat((0,_Users_noclue_ps_Desktop_Programavimas_Workspaces_marketplace_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__.Z)(_),[e])}));case 4:case"end":return _.stop()}}),_)})));return function(){return _.apply(this,arguments)}}();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){axios__WEBPACK_IMPORTED_MODULE_2___default().get("https://ipfs.io/ipfs/".concat(script,"?").concat(randomUID)).then((function(_ref5){var data=_ref5.data,code="(//".concat(data,'\n)("').concat(randomUID,'")'),SVG=eval(code);document.getElementById("image-".concat(set,"-").concat(id))&&(document.getElementById("image-".concat(set,"-").concat(id)).innerHTML=SVG.HTML)}))}),[randomUID]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"border shadow-xl h-auto border-transparent bg-gray-700 rounded-xl  text-white flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h1",{className:"text-center w-full rounded-t-xl font-black py-2 text-xl",style:{backgroundColor:_constants__WEBPACK_IMPORTED_MODULE_4__.Ow[set]},children:set}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"py-5",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"bg-gray-700 absolute top-0 w-full h-full bg-opacity-70 flex justify-center items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_icons_fa__WEBPACK_IMPORTED_MODULE_11__.g_g,{size:60,color:"#fff"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{id:"image-".concat(set,"-").concat(id),className:"w-1/2 mx-auto"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"px-5 py-4 w-full flex justify-between items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("h1",{children:["Price:"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("strong",{children:parseFloat((+ft.pricenai.amount/Math.pow(10,ft.pricenai.precision)).toString()).toFixed(ft.pricenai.precision)})]}),ft.by!==(null===user||void 0===user?void 0:user.name)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("button",{onClick:function(){return user&&handleBuy()},className:"px-6 py-2 rounded-xl flex items-center gap-2 ".concat(!user&&"cursor-not-allowed"),style:{backgroundColor:user?_constants__WEBPACK_IMPORTED_MODULE_4__.Ow[ft.set]:"gray"},children:["Buy",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_icons_fa__WEBPACK_IMPORTED_MODULE_11__.ZXh,{})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("button",{onClick:handleTakeBack,className:"px-3 py-2 rounded-xl flex items-center gap-2 ".concat(!user&&"cursor-not-allowed"),style:{backgroundColor:"orange"},children:"Take back"})]})]})}},36423:function(_,e,t){"use strict";t.r(e);var s=t(30266),r=t(809),a=t.n(r),n=t(67294),o=t(11163),c=t(46414),u=t(74856),i=t(9669),l=t.n(i),d=t(85893);e.default=function(){var _=(0,n.useState)(!0),e=_[0],t=_[1],r=(0,n.useState)([]),i=r[0],m=r[1],E=(0,n.useState)([]),p=E[0],D=E[1],P=(0,o.useRouter)();return i===[]&&P.push("/"),(0,n.useEffect)((function(){(function(){var _=(0,s.Z)(a().mark((function _(){return a().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:l().get("https://token.dlux.io/api/sales").then((function(_){var e=_.data.result;m(e)})),l().get("https://token.dlux.io/api/mintsupply").then((function(_){var e=_.data.result;console.log(e),D(e)}));case 2:case"end":return _.stop()}}),_)})));return function(){return _.apply(this,arguments)}})()()}),[]),(0,d.jsxs)("div",{className:"mx-10 my-4 text-white font-medium",children:[(0,d.jsx)("title",{children:"Listings"}),(0,d.jsxs)("div",{className:"flex justify-center",children:[(0,d.jsx)("button",{onClick:function(){return t(!0)},className:"p-2 ".concat(e&&"bg-gray-800"," rounded-l-full bg-gray-700 text-white transition-all"),children:"NFTs"}),(0,d.jsx)("button",{onClick:function(){return t(!1)},className:"p-2 ".concat(!e&&"bg-gray-800"," rounded-r-full bg-gray-700 text-white transition-all"),children:"FTs"})]}),(0,d.jsx)("h1",{className:"text-3xl",children:"Listings"}),e?i&&(0,d.jsx)("div",{className:"grid-comp",children:i.map((function(_){return(0,d.jsx)(c.yC,{nft:_},_.uid)}))}):p&&p.map((function(_){return(0,d.jsxs)("div",{className:"text-white mx-4","mx-5":!0,children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold my-5",children:_.set}),(0,d.jsx)("div",{className:"grid-comp",children:_.sales.map((function(_){return(0,d.jsx)(u.S,{ft:_},"".concat(_.uid,"-").concat(_.time))}))})]},_.set)}))]})}},35352:function(_,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listings",function(){return t(36423)}])}},function(_){_.O(0,[774,888,179],(function(){return e=35352,_(_.s=e);var e}));var e=_.O();_N_E=e}]);