(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{98173:function(n,t,e){"use strict";e.r(t);var i=e(80318),o=e(9669),r=e.n(o),s=e(67294),c=e(2804),a=e(63569),u=e(95276),l=e.n(u),f=e(63628),h=e(37039),m=e(85893),p=new(l());t.default=function(){var n=(0,s.useState)(),t=n[0],e=n[1],o=(0,s.useState)([]),u=o[0],l=o[1],w=(0,c.FV)(a.H3),d=(0,i.Z)(w,2),v=d[0],g=d[1],x=(0,h.$G)().t;return(0,s.useEffect)((function(){l([]),r().get("".concat(v,"api/mirrors")).then((function(n){var t=n.data,i=[];t.apis.forEach((function(n){n.api_url.includes(n.node)&&i.push(n)})),e(i)}))}),[]),(0,s.useEffect)((function(){var n=[];t?(t.forEach((function(t){p.ping(t.api_url).catch((function(e){n.push({value:t.api_url,label:"".concat(e,"ms | ").concat(t.node," | ").concat(t.api_url),pingTime:e})}))})),l(n.sort((function(n,t){return n.pingTime<t.pingTime?1:-1})))):l(t)}),[t]),(0,m.jsx)("div",{className:"text-white text-3xl",children:(0,m.jsxs)("div",{className:"mx-10 my-10",children:[(0,m.jsx)("h1",{className:"my-5",children:x("settings")}),(0,m.jsxs)("div",{className:"w-full mx-2 sm:w-1/2",children:[(0,m.jsx)("h1",{className:"text-2xl",children:x("APIlink")}),(0,m.jsx)(f.ZP,{className:"my-1 text-sm h-3 text-black",placeholder:x("select"),options:u,onChange:function(n){g(n.value)}})]})]})})}},19471:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return e(98173)}])},95276:function(n,t,e){var i=e(93956);n.exports=i},93956:function(n){var t=function(n){this.opt=n||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};t.prototype.ping=function(n,t){var e,i,o;"undefined"!==typeof Promise&&(e=new Promise((function(n,t){i=n,o=t})));var r,s=this;s.wasSuccess=!1,s.img=new Image,s.img.onload=function(n){s.wasSuccess=!0,a.call(s,n)},s.img.onerror=function(n){s.wasSuccess=!1,a.call(s,n)};var c=new Date;function a(){r&&clearTimeout(r);var n=new Date-c;if(t){if("function"===typeof t)return this.wasSuccess?(e&&i(n),t(null,n)):(s.logError&&console.error("error loading resource"),e&&o(n),t("error",n));throw new Error("Callback is not a function.")}if(e)return this.wasSuccess?i(n):o(n);throw new Error("Promise is not supported by your browser. Use callback instead.")}return s.timeout&&(r=setTimeout((function(){a.call(s,void 0)}),s.timeout)),s.img.src=n+s.favicon+"?"+ +new Date,e},n.exports&&(n.exports=t)}},function(n){n.O(0,[628,774,888,179],(function(){return t=19471,n(n.s=t);var t}));var t=n.O();_N_E=t}]);