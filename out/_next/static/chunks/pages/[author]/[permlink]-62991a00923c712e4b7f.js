(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{20198:function(e,t,s){"use strict";s.r(t);var i=s(67294),n=s(11163),a=s(60590),l=s.n(a),r=s(85893);t.default=function(){var e=(0,i.useState)(""),t=e[0],s=e[1],a=(0,i.useState)(!0),c=a[0],o=a[1],u=(0,i.useState)(""),f=u[0],d=u[1],p=(0,i.useState)(null),h=p[0],m=p[1],x=(0,n.useRouter)(),g=x.query,w=g.permlink,v=g.author;return(0,i.useEffect)((function(){v||x.push("/"),v&&"@"===v.substr(0,1)&&d(v.substr(1,v.length))}),[]),(0,i.useEffect)((function(){h&&function(){document.title="DLUX | ".concat(h.title);var e=h.json_metadata,t=JSON.parse(e).vrHash,s=JSON.parse(e).scrolling,i=location.href.split("?")[1],n=document.createElement("iframe");n.id="theIframe",n.setAttribute("scrolling",s||"yes"),n.width="100%",n.height="100%",n.setAttribute("allowfullscreen","true"),n.setAttribute("allow","gyroscope; accelerometer; microphone; camera"),n.src="https://anywhere.ipfs.dlux.io/ipfs/".concat(t,"?").concat(i),document.getElementById("iframe-app")&&document.getElementById("iframe-app").appendChild(n)}()}),[h]),(0,i.useEffect)((function(){""!==f&&l().api.getContent(f,w,(function(e,t){e&&console.log(e),console.log(t),function(e){var t;"https"!==(t=e.image&&Array.isArray(e.image)?e.image[0]:"string"==typeof e.image?e.image:e.Hash360&&(e.Hash360,1)?"https://ipfs.io/ipfs/".concat(e.Hash360):"https://www.dlux.io/img/dlux-sdk.png").substr(0,5)&&(t="https://www.dlux.io/img/dlux-sdk.png"),s(t)}(JSON.parse(t.json_metadata)),m(t)}))}),[f]),c?(0,r.jsxs)("div",{className:"w-full h-screen fixed top-0 left-0 bg-black text-white text-2xl font-bold bg-opacity-70",children:[(0,r.jsxs)("div",{className:"flex px-10 justify-between w-full bg-blue-500",children:[(0,r.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",onClick:function(){return o(!1)},children:"DLUX"}),(0,r.jsx)("span",{children:null===h||void 0===h?void 0:h.title})]}),(0,r.jsx)("div",{className:"w-full h-full",id:"iframe-app"})]}):(0,r.jsxs)("div",{className:"flex justify-evenly w-full mt-10",children:[(0,r.jsx)("div",{className:"p-5",children:(0,r.jsx)("img",{src:t,alt:"appPhoto",width:600})}),(0,r.jsx)("div",{className:"p-5",children:(0,r.jsx)("h1",{className:"text-white text-3xl",children:null===h||void 0===h?void 0:h.title})})]})}},71425:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[author]/[permlink]",function(){return s(20198)}])}},function(e){e.O(0,[774,888,179],(function(){return t=71425,e(e.s=t);var t}));var t=e.O();_N_E=t}]);