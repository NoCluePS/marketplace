(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{1873:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return AuctionFTcard}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45051),react_countdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98130),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),react_icons_gi__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2585),_Forms_BidForm__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87823),recoil__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2804),_atoms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(63569),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(43196),react_icons_fa__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(89583),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(85893),AuctionFTcard=function AuctionFTcard(_ref){var ft=_ref.ft,id="_"+Math.random().toString(36).substr(2,9),user=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.sJ)(_atoms__WEBPACK_IMPORTED_MODULE_6__.KL),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),isBidding=_useState[0],setIsBidding=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("=="),randomUID=_useState2[0],setRandomUID=_useState2[1],randomUIDGen=function(_){var e=Math.round(Math.random()*(_.max-(_.min||0))),t=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.s3)(e);setRandomUID(t)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){axios__WEBPACK_IMPORTED_MODULE_3___default().get("https://token.dlux.io/api/set/".concat(ft.set)).then((function(_){var e=_.data;setInterval((function(){randomUIDGen(e.set)}),1e3)}))}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){axios__WEBPACK_IMPORTED_MODULE_3___default().get("https://ipfs.io/ipfs/".concat(ft.script,"?").concat(randomUID)).then((function(_ref3){var data=_ref3.data,code="(//".concat(data,'\n)("').concat(randomUID,'")'),SVG=eval(code);document.getElementById("image-".concat(ft.set,"-").concat(id,"-auction")).innerHTML=SVG.HTML}))}),[randomUID]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"border shadow-xl h-auto border-transparent bg-gray-700 rounded-xl  text-white flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h1",{className:"text-center w-full rounded-t-xl font-black py-2 text-xl",style:{backgroundColor:_constants__WEBPACK_IMPORTED_MODULE_1__.Ow[ft.set]},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_countdown__WEBPACK_IMPORTED_MODULE_2__.ZP,{date:Date.parse(ft.time)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"py-5 text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"bg-gray-700 absolute top-0 w-full h-full bg-opacity-70 flex justify-center items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_fa__WEBPACK_IMPORTED_MODULE_9__.g_g,{size:60,color:"#fff"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{id:"image-".concat(ft.set,"-").concat(id,"-auction"),className:"w-1/2 mx-auto"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h1",{className:"text-xl font-semibold text-center",children:ft.set}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"px-2 sm:px-4 py-4 w-full flex justify-between items-center gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("h1",{children:["Price:"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("strong",{children:[parseFloat((ft.pricenai.amount/Math.pow(10,ft.pricenai.precision)).toString()).toFixed(ft.pricenai.precision)," "]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("h1",{children:["Bids: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("strong",{children:ft.bids})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("button",{disabled:!user,onClick:function(){return user&&setIsBidding(!0)},className:"px-6 py-2 rounded-xl flex items-center gap-2 ".concat(!user&&"cursor-not-allowed"),style:{backgroundColor:user?_constants__WEBPACK_IMPORTED_MODULE_1__.Ow[ft.set]:"gray"},children:["Bid",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_icons_gi__WEBPACK_IMPORTED_MODULE_10__.gnI,{})]})]})]}),isBidding&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Forms_BidForm__WEBPACK_IMPORTED_MODULE_4__.A,{set:ft.set,uid:ft.uid,handleClose:function(){return setIsBidding(!1)}})]})}},37757:function(_,e,t){"use strict";t.r(e);var r=t(67294),s=t(11163),n=t(55110),a=t(9669),i=t.n(a),c=t(1873),o=t(85893);e.default=function(){var _=(0,s.useRouter)(),e=(0,r.useState)(!0),t=e[0],a=e[1],u=(0,r.useState)([]),E=u[0],d=u[1],l=(0,r.useState)([]),D=l[0],M=l[1];return(0,r.useEffect)((function(){(E===[]||D===[])&&_.push("/")}),[E]),(0,r.useEffect)((function(){i().get("https://token.dlux.io/api/auctions").then((function(_){var e=_.data.result;d(e)})),i().get("https://token.dlux.io/api/mintsupply").then((function(_){var e=_.data.result;console.log(e),M(e)}))}),[]),(0,o.jsxs)("div",{className:"mx-10 my-4",children:[(0,o.jsx)("title",{children:"Auction house"}),(0,o.jsxs)("div",{className:"flex justify-center",children:[(0,o.jsx)("button",{onClick:function(){return a(!0)},className:"p-2 ".concat(t&&"bg-gray-800"," rounded-l-full bg-gray-700 text-white transition-all"),children:"NFTs"}),(0,o.jsx)("button",{onClick:function(){return a(!1)},className:"p-2 ".concat(!t&&"bg-gray-800"," rounded-r-full bg-gray-700 text-white transition-all"),children:"FTs"})]}),(0,o.jsx)("h1",{className:"text-white mt-10 mb-5 text-3xl font-semibold",children:"Auction house"}),t?(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-4 xl:grid-cols-5 gap-5",children:E&&E.map((function(_){return(0,o.jsx)(n.JB,{nft:_},_.uid)}))}):D&&D.map((function(_){return(0,o.jsxs)("div",{className:"text-white mx-4","mx-5":!0,children:[(0,o.jsx)("h1",{className:"text-2xl font-semibold my-5",children:_.set}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-4 xl:grid-cols-5 gap-5",children:_.auctions.map((function(_){return(0,o.jsx)(c.m,{ft:_},"".concat(_.uid,"-").concat(_.time))}))})]},_.set)}))]})}},61410:function(_,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auction",function(){return t(37757)}])}},function(_){_.O(0,[774,888,179],(function(){return e=61410,_(_.s=e);var e}));var e=_.O();_N_E=e}]);